# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - before: |
      rvm install "2.7.6"
      rvm --default use 2.7.6
  - init: |
      yarn install
      gem install bundler:2.3.15
      bundle install
      docker run -d --rm -e POSTGRES_PASSWORD=postgres -p 5432:5432 postgres
      bundle exec rails db:reset
      bundle exec rails db:migrate
      bundle exec rails db:seed
    command: bin/rails server

vscode:
  extensions:
    - ms-azuretools.vscode-docker
